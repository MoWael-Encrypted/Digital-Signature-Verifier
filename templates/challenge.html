{% extends "base.html" %}
{% set active_page = "challenges" %}

{% block content %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ url_for('forensic_challenges') }}">Challenges</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{ challenge_name }}</li>
    </ol>
</nav>

<article class="card">
    <header class="card-header border-bottom border-success">
        <h1 class="h3 mb-0 text-success">{{ challenge_name }}</h1>
    </header>

    <div class="card-body">
        <section>
            <h2 class="h5">Description</h2>
            <div class="alert alert-secondary">
                {{ description }}
            </div>
        </section>

        <section class="mt-4">
            <h2 class="h5">Challenge Files</h2>
            <p>Download these files to solve the challenge:</p>

            {% if files %}
            <div class="list-group">
                {% for filename in files %}
                <a href="{{ url_for('download_challenge_file', challenge_id=challenge_id, filename=filename) }}"
                    class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-file-earmark-text me-2" viewBox="0 0 16 16">
                            <path
                                d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z" />
                            <path
                                d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2.5a.5.5 0 0 0 .5.5H14v8a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z" />
                        </svg>
                        {{ filename }}
                    </div>
                    <span class="badge bg-primary rounded-pill">Download</span>
                </a>
                {% endfor %}
            </div>
            {% else %}
            <div class="alert alert-warning">
                No files found for this challenge.
            </div>
            {% endif %}
        </section>

        <section class="mt-4">
            <h2 class="h5">Submit Solution</h2>
            <p>Use the <a href="{{ url_for('verify_signature_route') }}">Verify Signature</a> tool to analyze these
                files.</p>
        </section>
    </div>
</article>
{% endblock %}